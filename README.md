### 任务面板
| 状态 | 任务 | 分支 |
| --- | --- | --- |
| 已完成 | 单位被选中后才能设置移动 | `feat/selected_then_set` |
| 进行中 | 单位被选中后出现提示 | `feat/selected_then_highlight` |
| 未进行 | 允许取消选中并选择新的单位 | `feat/selected_then_cancel` |
---
我们团队使用Git进行版本控制，采用标准的Git工作流：
### 分支管理 & 开发流程
1. **主分支**：`main`，稳定版本代码分支，对外可以随时编译发布的分支，不允许直接  push代码，只能请求合并（pull request），且只接受`hotfix`、`release`分支的代码合并。
2. **热修复分支**：`hotfix`，针对线上紧急问题、bug修复的代码分支，修复完后合并到`main`、`dev`。
3. **发版分支**：`release`，版本发布分支，用于迭代版本发布。迭代开发完成后，合并`dev`代码到`release`，在`release`分支上编译发布版本，以及修改bug（定时同步bug修改到dev分支）。测试完成后此版本可以作为发版使用，然后把稳定的代码push到master分支，并打上版本标签。
4. **开发分支**：`dev`，开发版本分支，针对迭代任务开发的分支，日常开发原则上都在此分支上面，迭代完成后合并到`release`分支，开发、发版两不误。
5. **功能分支**：`feat`，每开发一个新功能，从`dev`分支创建一个新分支，命名规范：`feat/功能简要描述`（例如：`feat/player-movement`）。
![4aac9d46775638e233fa41e4e97ff1a4](https://github.com/user-attachments/assets/263cdbc7-d3d3-4d81-a8df-942e857ad18b)
### 提交规范
- 提交信息（Commit Message）格式：
  ```
  类型: 简短描述（不超过50字）
  详细描述（可选，说明修改的原因、内容等，每行不超过72字）
  ```
  类型包括：`feat`（新功能）、`fix`（修复bug）、`docs`（文档）、`style`（格式调整，不影响代码逻辑）、`refactor`（重构）、`test`（测试）、`chore`（构建过程或辅助工具变动）。
  示例：
  ```
  feat: 添加玩家跳跃功能
  增加了玩家跳跃的输入检测和跳跃动作，跳跃高度可通过参数调整。
  ```
### 合并请求（Pull Request）
1. 发起合并请求前，确保当前分支已经通过测试，并且没有冲突（若有冲突，先解决冲突）。
2. 填写合并请求描述，包括：
   - 功能概述（必填）
   - 修改点（可以关联提交信息；可选）
   - 测试方法（可选）
3. **📌至少需要一名其他成员审查通过后才能合并**。
---
以下是为了方便合作而设置的代码内规范：
### 类型规范
1. **所有变量**：必须显式声明类型（使用 `: 类型` 语法）
2. **函数参数**：必须声明类型
3. **函数返回值**：必须声明返回类型（无返回值时用 `-> void`）
4. **容器类型**：尽量指定元素类型（如 `Array[int]`）
5. **避免使用`Variant`**：除非必要（如需要动态类型），否则不使用通用类型
### 注释规范
1. 关键逻辑、复杂算法、重要决策必须写注释。
2. 函数注释：
   - 使用Godot的文档注释风格（使用`##`开头），写在函数上方。
   - 说明函数的功能、参数、返回值。
   示例：
   ```gdscript
   ## 处理玩家跳跃
   ## 参数: 
   ##   - jump_force: 跳跃力度
   ## 返回值: void
   func _handle_jump(jump_force: float) -> void:
       # 如果玩家在地面上，则施加向上的力
       if is_on_floor():
           velocity.y = jump_force
   ```
3. 行内注释：在代码行尾或上方，用`#`注释，说明复杂行或关键步骤。
   示例：
   ```gdscript
   # 计算伤害，包括暴击
   var damage = base_damage * (1.5 if is_critical else 1.0)
   ```
---
### 其他
- 每日开始工作前，先拉取最新代码：`git pull`
- 遇到问题及时沟通，避免阻塞。
- 再次强调禁止直接在主分支上提交代码。
请遵守以上准则，保持代码库整洁，合作愉快！
